# Sport goals tracker CRAUN.

_Приложение для отслеживания спортивных целей с системой штрафов._

Blockchain часть приложения состоит из 2 dApps:
* craunDapp - следит за выполнением целей и управляет балансом пользователя
* goalDapp - хранит конфигурацию цели, текущий статус, количество проваленных попыток и записи фактов исполнения цели

Как это работает?
1. Создается цель
    1. Пользователь настраивает цель (Например бег 2км. каждые пн., ср., пт., 5 попыток и стоимость пропуска и т.д.)
    2. Создается новый аккаунт цели и затем скриптуется.
    3. Записать пользовательские данные в аккаунт цели через функцию «setup».
2. Отслеживание выполнения цели
    1. Так как одной из задач craunDapp является управление балансом  пользователя, то после создания цели, нужно заморозить баланс пользователя на сумму цели (как вычисляется сумма цели см. ниже).
    2. В craunDapp, раз в день проверять статус выполнения цели и принимать решение о снятии средств из замороженного баланса.

Методы goalDapp:
* func setup(userAddress, title, distance, etc.) - записать данные цели в goalDapp
* func record(recordDate: String, recordDistance: Int) - валидирует выполнение цели и меняет статус цели.

Методы craunDapp:
* func deposit() - позволяет пополнить баланс пользователя
* func addGoal(goalAccountAddressStr: String) - замораживает средства пользователя исходя из стоимости цели (колличесто попыток * стоимость 1 провала + стоимость удаления). После этого, для аккаунта пользователя создается 3 баланса для хранения замороженных, активных и потерянных средств.
* func checkUserGoal(goalAccountAddressStr, userAccountAddressStr, recordDate) - проверяет исполнение цели на определенную дату, проверяет статус цели и принимает штрафовать ли пользователя.

_P.S._
_В будущем можно создать мобильное приложение, которое в атоматическом режиме может фиксировать факты испольнения различных целей с использованием GPS, CV и тд:_
* бег
* подтягивания на турнике
* отжимания
* приседания
* скручивания на пресс
* и др.